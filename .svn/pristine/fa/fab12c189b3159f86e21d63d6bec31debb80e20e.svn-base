package com.efrobot.guest.usher;

import android.content.Context;
import android.view.View;
import android.widget.TextView;

import com.efrobot.guest.R;
import com.efrobot.guest.base.GuestsBaseActivity;
import com.efrobot.guest.utils.ActivityManager;
import com.efrobot.library.mvp.presenter.BasePresenter;

/**
 * Created by Administrator on 2017/3/2.
 */
public class UsherActivity extends GuestsBaseActivity<UsherPresenter> implements IUsherView, View.OnClickListener{

    private TextView currentTime, testBackBtn, againBtn;
    private TextView distance0, distance1, distance7, distance8, distance9, distance10;
    private TextView infraredTv;

    @Override
    public BasePresenter createPresenter() {
        return new UsherPresenter(this);
    }

    @Override
    protected int getContentViewResource() {
        return R.layout.activity_usher;
    }

    @Override
    public Context getContext() {
        return this;
    }

    @Override
    protected void onViewInit() {
        super.onViewInit();
        currentTime = (TextView) findViewById(R.id.current_time);
        testBackBtn = (TextView) findViewById(R.id.test_back);
        againBtn = (TextView) findViewById(R.id.again_demarcate);

        distance0 = (TextView) findViewById(R.id.usher_distance0);
        distance1 = (TextView) findViewById(R.id.usher_distance1);
        distance7 = (TextView) findViewById(R.id.usher_distance7);
        distance8 = (TextView) findViewById(R.id.usher_distance8);
        distance9 = (TextView) findViewById(R.id.usher_distance9);
        distance10 = (TextView) findViewById(R.id.usher_distance10);
        infraredTv = (TextView) findViewById(R.id.infrared_info);

        ActivityManager.getInstance().addActivity(this);

    }

    @Override
    protected void setOnListener() {
        super.setOnListener();
        testBackBtn.setOnClickListener(this);
        againBtn.setOnClickListener(this);
    }

    @Override
    public void onClick(View view) {
        if(view.equals(testBackBtn)) {
            finish();
        } else if(view.equals(againBtn)) {
            //初始化超声波
            ((UsherPresenter)mPresenter).showDialog(getString(R.string.init_ultrasonic_hint));
        }
    }

    @Override
    public void moveTaskToBack() {
        moveTaskToBack(true);
    }

    @Override
    public void setCurrentTime(String time) {
        currentTime.setText(time);
    }

    @Override
    public void setDistance0(String distance) {
        distance0.setText(distance);
    }

    @Override
    public void setDistance1(String distance) {
        distance1.setText(distance);
    }

    @Override
    public void setDistance7(String distance) {
        distance7.setText(distance);
    }

    @Override
    public void setDistance8(String distance) {
        distance8.setText(distance);
    }

    @Override
    public void setDistance9(String distance) {
        distance9.setText(distance);
    }

    @Override
    public void setDistance10(String distance) {
        distance10.setText(distance);
    }

    @Override
    public void setInfrared(String info) {
//        infraredTv.setText(info);
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
    }

}
